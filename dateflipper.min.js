var DateFlipper=function(h,c){var m=150,q=1.1,k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],b=jQuery('<div class="dateflipper-container"><div class="dateflipper-col dateflipper-col-year"><p class="dateflipper-field">2015</p></div><div class="dateflipper-col dateflipper-col-month"><p class="dateflipper-field">Sept</p></div><div class="dateflipper-col dateflipper-col-day"><p class="dateflipper-field">17</p></div></div>'),f,t,n,g,p=false,e=false,a=b.find(".dateflipper-col-year"),d=b.find(".dateflipper-col-month"),o=b.find(".dateflipper-col-day"),r=function(){b.find("p").css("opacity",0);jQuery(h).append(b);a.css("width",a.outerWidth()*q);d.css("width",d.outerWidth()*q);o.css("width",o.outerWidth()*q);b.css("height",a.outerHeight())},i=function(v,u,y){var z=v.children().first(),x=z.outerHeight(),w=v.position().top;v.append('<p class="dateflipper-field">'+u+"</p>");v.animate({top:w-x},{duration:m,complete:function(){z.remove();v.css("top",w);y()}})},s=function(v,u,z){var w=v.children().last(),y=w.outerHeight(),x=v.position().top;v.css("top",x-y);v.prepend('<p class="dateflipper-field">'+u+"</p>");v.animate({top:x},{duration:m,complete:function(){w.remove();z()}})},j=function(v,w,u){var x=e;if(v&&w&&u){p=false;if(e){e=false;l(x)}}},l=function(w){var C=w.getFullYear(),v=k[w.getMonth()],B=w.getDate(),z=false,A=false,x=false,u=((f-w)<0)?i:s;if(p){e=w}else{p=true;f=new Date(w.getTime());if(C===t){z=true}else{t=C;u(a,C,function(){z=true;j(z,A,x)})}if(v===n){A=true}else{n=v;u(d,v,function(){A=true;j(z,A,x)})}if(B===g){x=true}else{g=B;u(o,B,function(){x=true;j(z,A,x)})}j(z,A,x)}};r();this.set=l};